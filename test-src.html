<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Test page</title>
        
    <script src="src/Stage.js"></script>
    <script src="src/Controller.js"></script>
    <script src="src/VisuData.js"></script>        
    <script src="src/VisuVariable.js"></script>
    <script src="src/VisuArray.js"></script>
    <script src="src/VisuButton.js"></script>    
    <script src="src/VisuScrollbar.js"></script>    
    <script src="src/VisuLabel.js"></script>
    <script src="src/VisuCode.js"></script>   

    <script>

        var init = function () {

            var stage = new inalan.Stage("myCanvas");
            stage.showAllButtons();

            // **********************************************

            // global variables used in functions (for undo function need to be stored in stage.var object) ...
            stage.vars.index1 = 0;
            stage.vars.index2 = 0;
            stage.vars.index3 = 0;

            var step1 = function () {
                console.log("step1");
            }

            var step2 = function () {
                console.log("step2");
            }

            var r1step1 = function () {
                console.log("r1step1");
            }

            var r1step2 = function () {
                console.log("r1step2");                
            }

            var r2step1 = function () {
                console.log("r2step1");
            }

            var r2step2 = function () {
                console.log("r2step2");
            }

            var r2step3 = function () {
                console.log("r2step3");                
            }

            var r2check = function () {
                stage.vars.index2++;
                if (stage.vars.index2 < 2) {
                    return true;
                }
                stage.vars.index2 = 0;
                return false;
            }

            var r3step1 = function () {
                console.log("r3step1");
            }

            var r3check = function () {
                stage.vars.index3++;
                if (stage.vars.index3 < 5) {
                    return true;
                }
                stage.vars.index3 = 0;
                return false;
            }

            var r1step3 = function () {
                console.log("r1step3");                
            }

            var r1check = function () {
                stage.vars.index1++;
                return stage.vars.index1 < 3;
            }

            var final = function () {
                console.log("final");
            }

            // defining steps in animation...
            stage.setSteps([
                step1,
                step2,
                [ r1step1,
                    [r2step1, r2step2, r2step3], r2check,
                  r1step2,
                    [r2step1, r2step2, r2step3,
                        [r3step1], r3check
                    ], r2check,
                  r1step3
                ], r1check,
                final
            ]);

            // stage.get("max").setDefaultColor();
            // stage.get("a").setIndex("i", 1);
            // stage.compare(stage.get("a").items[0], stage.get("a").items[3]);
            // stage.copy(stage.get("a").items[2], stage.get("max"));
            // stage.move(stage.get("a").items[2], stage.get("max"));
            // stage.exchange(stage.get("a").items[0], stage.get("a").items[6]);

        }

    </script>

</head>
<body onload="init();">

    <canvas id="myCanvas" width="700" height="480" style="border:1px solid black"></canvas>
    
</body>
</html>
